<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تخت الرمل</title>
   <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="sweden">
        <hr>
        <hr>

        <h1>برنامج حساب تخت الرمل</h1>
        <hr>
        <hr>
    </div>
    
    <!-- <div id="container" class="container"></div> -->
	<div class="parent1" >
    <div class="parent" id="ggroup1">
        <h2>Group 1</h2>
        <p class="top1_1">Line 1:)&#160;&#160;<SPan class="manola" id="manola1_1"></SPan>&#160;&#160; <input type="text" id="text1_1" oninput="countWord('text1_1', 'counter1_1', 'pipou1_1')">&#160;&#160;<span id="counter1_1">0</span></p>
        <p class="top1_2">Line 2:)&#160;&#160;<SPan class="manola" id="manola1_2"></SPan>&#160;&#160; <input type="text" id="text1_2" oninput="countWord('text1_2', 'counter1_2', 'pipou1_2')">&#160;&#160;<span id="counter1_2">0</span></p>
        <p class="top1_3">Line 3:)&#160;&#160;<SPan class="manola" id="manola1_3"></SPan>&#160;&#160; <input type="text" id="text1_3" oninput="countWord('text1_3', 'counter1_3', 'pipou1_3')">&#160;&#160;<span id="counter1_3">0</span></p>
        <p class="top1_4">Line 4:)&#160;&#160;<SPan class="manola" id="manola1_4"></SPan>&#160;&#160; <input type="text" id="text1_4" oninput="countWord('text1_4', 'counter1_4', 'pipou1_4')">&#160;&#160;<span id="counter1_4">0</span></p>
       
    </div>
	
	   <div class="parent" id="ggroup2">
        <h2>Group 2</h2>
        <p>Line 1:)&#160;&#160;<SPan class="manola" id="manola2_1"></SPan>&#160;&#160;<input type="text" id="text2_1" oninput="countWord('text2_1', 'counter2_1', 'pipou2_1')">&#160;&#160;<span id="counter2_1">0</span></p>
        <p>Line 2:)&#160;&#160;<SPan class="manola" id="manola2_2"></SPan>&#160;&#160; <input type="text" id="text2_2" oninput="countWord('text2_2', 'counter2_2', 'pipou2_2')">&#160;&#160;<span id="counter2_2">0</span></p>
        <p>Line 3:)&#160;&#160;<SPan class="manola" id="manola2_3"></SPan>&#160;&#160;<input type="text" id="text2_3" oninput="countWord('text2_3', 'counter2_3', 'pipou2_3')">&#160;&#160;<span id="counter2_3">0</span></p>
        <p>Line 4:)&#160;&#160;<SPan class="manola" id="manola2_4"></SPan>&#160;&#160; <input type="text" id="text2_4" oninput="countWord('text2_4', 'counter2_4', 'pipou2_4')">&#160;&#160;<span id="counter2_4">0</span></p>
    
    </div>
	
	  <div id="ggroup3">
        <h2>Group 3</h2>
        <p>Line 1:)&#160;&#160;<SPan class="manola" id="manola3_1"></SPan>&#160;&#160;<input type="text" id="text3_1" oninput="countWord('text3_1', 'counter3_1', 'pipou3_1')">&#160;&#160;<span id="counter3_1">0</span></p>
        <p>Line 2:)&#160;&#160;<SPan class="manola" id="manola3_2"></SPan>&#160;&#160; <input type="text" id="text3_2" oninput="countWord('text3_2', 'counter3_2', 'pipou3_2')">&#160;&#160;<span id="counter3_2">0</span></p>
        <p>Line 3:)&#160;&#160;<SPan class="manola" id="manola3_3"></SPan>&#160;&#160;<input type="text" id="text3_3" oninput="countWord('text3_3', 'counter3_3', 'pipou3_3')">&#160;&#160;<span id="counter3_3">0</span></p>
        <p>Line 4:)&#160;&#160;<SPan class="manola" id="manola3_4"></SPan>&#160;&#160; <input type="text" id="text3_4" oninput="countWord('text3_4', 'counter3_4', 'pipou3_4')">&#160;&#160;<span id="counter3_4">0</span></p>
     
    </div>
	
	
    <div id="ggroup4">
        <h2>Group 4</h2>
        <p>Line 1:)&#160;&#160;<SPan class="manola" id="manola4_1"></SPan>&#160;&#160;<input type="text" id="text4_1" oninput="countWord('text4_1', 'counter4_1', 'pipou4_1')">&#160;&#160;<span id="counter4_1">0</span></p>
        <p>Line 2:)&#160;&#160;<SPan class="manola" id="manola4_2"></SPan>&#160;&#160; <input type="text" id="text4_2" oninput="countWord('text4_2', 'counter4_2', 'pipou4_2')">&#160;&#160;<span id="counter4_2">0</span></p>
        <p>Line 3:)&#160;&#160;<SPan class="manola" id="manola4_3"></SPan>&#160;&#160;<input type="text" id="text4_3" oninput="countWord('text4_3', 'counter4_3', 'pipou4_3')">&#160;&#160;<span id="counter4_3">0</span></p>
        <p>Line 4:)&#160;&#160;<SPan class="manola" id="manola4_4"></SPan>&#160;&#160; <input type="text" id="text4_4" oninput="countWord('text4_4', 'counter4_4', 'pipou4_4')">&#160;&#160;<span id="counter4_4">0</span></p>
     
    </div>
	</div>
    <hr>
<div class="parent2" id="madrista" >
    <div class="madridesta" id="group1">
        <h2>الحياة</h2>
        <hr>
        <h4>الجودلة</h4>
<hr>
        <p class="top1_5"><span class="pipous" id="pipou1_1"></span></p>
        <p class="top1_6"><span class="pipous" id="pipou1_2"></span></p>
        <p class="top1_7"><span class="pipous" id="pipou1_3"></span></p>
        <p class="top1_8"><span class="pipous" id="pipou1_4"></span></p>
        <p class="top1_9"><span class="pipous1" id="result1"></span></p>
        
    </div>

 
	
	 <div class="madridesta" id="group2">
        <h2>المال</h2>
        <hr> 
        <h4>الأحيان</h4>
        <hr>

	    <p> <span class="pipous"  id="pipou2_1"></span></p>
        <p> <span class="pipous"  id="pipou2_2"></span></p>
        <p> <span class="pipous"  id="pipou2_3"></span></p>
        <p> <span class="pipous"  id="pipou2_4"></span></p>
        <p> <span class="pipous1" id="result2"></span></p>
	</div>

  
	
		 <div class="madridesta" id="group3">
        <h2>الإخوة والأخبار </h2>
        
        <hr>
        <h4>عتبة داخلة</h4>
        <hr>


	   <p>  <span class="pipous"  id="pipou3_1"></span></p>
        <p> <span class="pipous"  id="pipou3_2"></span></p>
        <p> <span class="pipous"  id="pipou3_3"></span></p>
        <p> <span class="pipous"  id="pipou3_4"></span></p>
        <p> <span class="pipous1" id="result3"></span></p>
	</div>

			 <div class="madridesta" id="group4">
        <h2>الوالدين والعقارات</h2>
        <hr>
        <h4>البياض</h4>

        <hr>

	   <p>  <span class="pipous"  id="pipou4_1"></span></p>
        <p> <span class="pipous"  id="pipou4_2"></span></p>
        <p> <span class="pipous"  id="pipou4_3"></span></p>
        <p> <span class="pipous"  id="pipou4_4"></span></p>
        <p> <span class="pipous1" id="result4"></span></p>
	</div>

    <div id="group5">
        <h2> الأولاد والهدايا</h2>
        <hr>
        <h4>نقي الخد</h4>
        <hr>


        <p><span id="polo5_1"></span></p>
        <p><span id="polo5_2"></span></p>
        <p><span id="polo5_3"></span></p>
        <p><span id="polo5_4"></span></p>
        <p> <span id="eva1"></span></p>

    </div>

    <div id="group6">
        <h2> المرض والطلاق </h2>
        <hr>
        <h4> العتبة الخارجة</h4>

        <hr>

        <p><span id="polo6_1"></span></p>
        <p><span id="polo6_2"></span></p>
        <p><span id="polo6_3"></span></p>
        <p><span id="polo6_4"></span></p>
        <p> <span id="eva2"></span></p>
    </div>

    <div id="group7">
        <h2>الزواج والشركاء</h2>
        <hr>
        <h4>الحمرة</h4>

        <hr>

        <p><span id="polo7_1"></span></p>
        <p><span id="polo7_2"></span></p>
        <p><span id="polo7_3"></span></p>
        <p><span id="polo7_4"></span></p>
        <p> <span id="eva3"></span></p>
    </div>

    <div id="group8">
        <h2>الموت والمواريث</h2>
        <hr>
        <h4>الإنكيس</h4>

        <hr>


        <p><span id="polo8_1"></span></p>
        <p><span id="polo8_2"></span></p>
        <p><span id="polo8_3"></span></p>
        <p><span id="polo8_4"></span></p>
        <p> <span id="eva4"></span></p>
    </div>
	</div >
    <hr>
<div class="parent3" >

    <div id="group9">
        <h2>السفر والحج والعلم </h2>
        <hr>
        <h4>النصرة الخارجة</h4>

        <hr>

        <p><span id="polo9_1"></span></p>
        <p><span id="polo9_2"></span></p>
        <p><span id="polo9_3"></span></p>
        <p><span id="polo9_4"></span></p>
        <p> <span id="eva5"></span></p>
    </div>

   
    <div id="group10">
        
        <h2>العز والسلطان</h2>
        <hr>
        <h4>العقلة</h4>

        <hr>

        <p><span id="polo10_1"></span></p>
        <p><span id="polo10_2"></span></p>
        <p><span id="polo10_3"></span></p>
        <p><span id="polo10_4"></span></p>
        <p> <span id="eva6"></span></p>
    </div>

    <div id="group11">
        <h2>الأصدقاء والرجاء</h2>
        <hr>
        <h4>الإجتماع</h4>

        <hr>

        <p><span id="polo11_1"></span></p>
        <p><span id="polo11_2"></span></p>
        <p><span id="polo11_3"></span></p>
        <p><span id="polo11_4"></span></p>
        <p> <span id="eva7"></span></p>
    </div>

    <div id="group12">
        <h2>الأعداء والسجن </h2>
        <hr>
        <h4>النصرة الداخلة</h4>

        <hr>

        <p><span id="polo12_1"></span></p>
        <p><span id="polo12_2"></span></p>
        <p><span id="polo12_3"></span></p>
        <p><span id="polo12_4"></span></p>
        <p> <span id="eva8"></span></p>
    </div>
</div >
<hr>
<div class="parent4" >
    <div id="group13">
        <h2>السائل بقوى الطالع</h2>
        <hr>
        <h4>الطريق</h4>

        <hr>

        <p><span id="polo13_1"></span></p>
        <p><span id="polo13_2"></span></p>
        <p><span id="polo13_3"></span></p>
        <p><span id="polo13_4"></span></p>
        <p> <span id="eva9"></span></p>
    </div>

    <div id="group14">
        <h2> المسؤول الحجب والمنع</h2>
        <hr>
        <h4>القبض الخارج</h4>

        <hr>

        <p><span id="polo14_1"></span></p>
        <p><span id="polo14_2"></span></p>
        <p><span id="polo14_3"></span></p>
        <p><span id="polo14_4"></span></p>
        <p> <span id="eva10"></span></p>
    </div>
</div >
<hr>
<div class="parent5" >
    <div id="group15">
        <h2>الميزان</h2>
        <hr>
        <h4>الجماعة</h4>

        <hr>

        <p><span id="polo15_1"></span></p>
        <p><span id="polo15_2"></span></p>
        <p><span id="polo15_3"></span></p>
        <p><span id="polo15_4"></span></p>
        <p> <span id="eva11"></span></p>
    </div>
	</div >
    <hr>
<div class="parent6" >
    <div id="group16">
        <h2>العاقبة </h2>
        <hr>
        <h4>القبض الداخل</h4>

        <hr>

        <p><span id="polo16_1"></span></p>
        <p><span id="polo16_2"></span></p>
        <p><span id="polo16_3"></span></p>
        <p><span id="polo16_4"></span></p>
        <p> <span id="eva12"></span></p>
    </div>
</div >
<div class="parent7" >
    <div id="group17">
        <h2>Group 17</h2>
        <h2>3 * 5 </h2>
        <p>Polo1: <span id="polo17_1"></span></p>
        <p>Polo2: <span id="polo17_2"></span></p>
        <p>Polo3: <span id="polo17_3"></span></p>
        <p>Polo4: <span id="polo17_4"></span></p>
        <p>Result: <span id="eva13"></span></p>
    </div>
</div >
<div class="parent7" >
    <div id="group18">
        <h2>Group 18</h2>
        <h2> 11 * 15 </h2>
        <p>Polo1: <span id="polo18_1"></span></p>
        <p>Polo2: <span id="polo18_2"></span></p>
        <p>Polo3: <span id="polo18_3"></span></p>
        <p>Polo4: <span id="polo18_4"></span></p>
        <p>Result: <span id="eva14"></span></p>
    </div>
</div >
<div class="parent7" >
    <div id="group19">
        <h2>Group 19</h2>
        <h2>Group 18   *  Group 17  </h2>

        <p>Polo1: <span id="polo19_1"></span></p>
        <p>Polo2: <span id="polo19_2"></span></p>
        <p>Polo3: <span id="polo19_3"></span></p>
        <p>Polo4: <span id="polo19_4"></span></p>
        <p>Result: <span id="eva15"></span></p>
    </div>
</div >

<h1>Point Counter</h1>

<!-- Placeholder elements for result${i} and eva${i} -->


<p> Number Dash:عدد النقاط  <span id="frank"></span></p>
<p>Number ds:125 - عدد النقاط <span id="fred"></span></p>
<hr>
<hr>
<p ><span id="score"></span></p> 
   <p ><span id="remainder"></span></p> 


    <script>
   let totalPoints = 0;
// const dotNumber = 35;

const expectedParityOptions = [
    { name: "جودلة", expected: ['.', '.', '-', '.'] },
    { name: "أحيان", expected: ['.', '-', '-', '-'] },
    { name: "عتبة داخلة", expected: ['-', '.', '.', '.'] },
    { name: "بياض", expected: ['-', '-', '.', '-'] },
    { name: "نقي الخد", expected: ['.', '-', '.', '.'] },
    { name: "أنكيس", expected: ['-', '-', '-', '.'] },
    { name: "حمرة", expected: ['-', '.', '-', '-'] },
    { name: "عتبة خارجة", expected: ['.', '.', '.', '-'] },
    { name: "عقلة", expected: ['.', '-', '-', '.'] },
    { name: "إجتماع", expected: ['-', '.', '.', '-'] },
    { name: "نصرة داخلة", expected: ['-', '-', '.', '.'] },
    { name: "طريق", expected: ['.', '.', '.', '.'] },
    { name: "نصرة خارجة ", expected: ['.', '.', '-', '-'] },
    { name: "قبض خارج", expected: ['.', '-', '.', '-'] },
    { name: "إجتماع", expected: ['-', '-', '-', '-'] },
    { name: "قبض داخل جماعة", expected: ['-', '.', '-', '.'] }
];

function countWord(inputId, counterId, pipouId) {
    const text = document.getElementById(inputId).value.trim();
    const dotCounter = (text.match(/\./g) || []).length;
    const result = dotCounter % 2 === 0 ? '-' : '.';

    document.getElementById(counterId).textContent = dotCounter;
    document.getElementById(pipouId).textContent = result;
    updateManola();
    updateAllGroups();
}

function updateManola() {
    for (let i = 1; i <= 4; i++) {
        for (let j = 1; j <= 4; j++) {
            document.getElementById(`manola${i}_${j}`).textContent = document.getElementById(`pipou${i}_${j}`).textContent;
        }
    }
}

function updateGroup(groupNum, sourceIds, targetIds, evaluationId) {
    const results = sourceIds.map(id => document.getElementById(id).textContent);
    targetIds.forEach((id, index) => document.getElementById(id).textContent = results[index]);
    updateEvaluation(results, evaluationId);
}

function customMultiply(a, b) {
    return (a === '-' && b === '-') || (a === '.' && b === '.') ? '-' : '.';
}

function updateMultiplyGroup(groupNum, sourceIds1, sourceIds2, targetIds, evaluationId) {
    const results = sourceIds1.map((id, index) => 
        customMultiply(
            document.getElementById(id).textContent,
            document.getElementById(sourceIds2[index]).textContent
        )
    );
    targetIds.forEach((id, index) => document.getElementById(id).textContent = results[index]);
    updateEvaluation(results, evaluationId);
}

function updateAllGroups() {
    totalPoints = 0; // Reset total points before recounting

    for (let i = 1; i <= 4; i++) {
        const parity = [1, 2, 3, 4].map(j => document.getElementById(`pipou${i}_${j}`).textContent);
        updateEvaluation(parity, `result${i}`);
        
        // Count points for pipou, manola, and polo
        for (let j = 1; j <= 4; j++) {
             if (document.getElementById(`pipou${i}_${j}`).textContent === '.') totalPoints++;
            //  if (document.getElementById(`manola${i}_${j}`).textContent === '.') totalPoints++;
        }
    }

    updateGroup(5, ['pipou1_1', 'pipou2_1', 'pipou3_1', 'pipou4_1'], ['polo5_1', 'polo5_2', 'polo5_3', 'polo5_4'], 'eva1');
    updateGroup(6, ['pipou1_2', 'pipou2_2', 'pipou3_2', 'pipou4_2'], ['polo6_1', 'polo6_2', 'polo6_3', 'polo6_4'], 'eva2');
    updateGroup(7, ['pipou1_3', 'pipou2_3', 'pipou3_3', 'pipou4_3'], ['polo7_1', 'polo7_2', 'polo7_3', 'polo7_4'], 'eva3');
    updateGroup(8, ['pipou1_4', 'pipou2_4', 'pipou3_4', 'pipou4_4'], ['polo8_1', 'polo8_2', 'polo8_3', 'polo8_4'], 'eva4');

    updateMultiplyGroup(9, ['manola1_1', 'manola1_2', 'manola1_3', 'manola1_4'], ['manola2_1', 'manola2_2', 'manola2_3', 'manola2_4'], ['polo9_1', 'polo9_2', 'polo9_3', 'polo9_4'], 'eva5');
    updateMultiplyGroup(10, ['manola3_1', 'manola3_2', 'manola3_3', 'manola3_4'], ['manola4_1', 'manola4_2', 'manola4_3', 'manola4_4'], ['polo10_1', 'polo10_2', 'polo10_3', 'polo10_4'], 'eva6');
    updateMultiplyGroup(11, ['polo5_1', 'polo5_2', 'polo5_3', 'polo5_4'], ['polo6_1', 'polo6_2', 'polo6_3', 'polo6_4'], ['polo11_1', 'polo11_2', 'polo11_3', 'polo11_4'], 'eva7');
    updateMultiplyGroup(12, ['polo7_1', 'polo7_2', 'polo7_3', 'polo7_4'], ['polo8_1', 'polo8_2', 'polo8_3', 'polo8_4'], ['polo12_1', 'polo12_2', 'polo12_3', 'polo12_4'], 'eva8');
    updateMultiplyGroup(13, ['polo9_1', 'polo9_2', 'polo9_3', 'polo9_4'], ['polo10_1', 'polo10_2', 'polo10_3', 'polo10_4'], ['polo13_1', 'polo13_2', 'polo13_3', 'polo13_4'], 'eva9');
    updateMultiplyGroup(14, ['polo11_1', 'polo11_2', 'polo11_3', 'polo11_4'], ['polo12_1', 'polo12_2', 'polo12_3', 'polo12_4'], ['polo14_1', 'polo14_2', 'polo14_3', 'polo14_4'], 'eva10');
    updateMultiplyGroup(15, ['polo13_1', 'polo13_2', 'polo13_3', 'polo13_4'], ['polo14_1', 'polo14_2', 'polo14_3', 'polo14_4'], ['polo15_1', 'polo15_2', 'polo15_3', 'polo15_4'], 'eva11');
    updateMultiplyGroup(16, ['polo5_1', 'polo5_2', 'polo5_3', 'polo5_4'], ['polo15_1', 'polo15_2', 'polo15_3', 'polo15_4'], ['polo16_1', 'polo16_2', 'polo16_3', 'polo16_4'], 'eva12');
    updateMultiplyGroup(17, ['pipou3_1', 'pipou3_2', 'pipou3_3', 'pipou3_4'], ['polo5_1', 'polo5_2', 'polo5_3', 'polo5_4'], ['polo17_1', 'polo17_2', 'polo17_3', 'polo17_4'], 'eva13');
    updateMultiplyGroup(18, ['polo11_1', 'polo11_2', 'polo11_3', 'polo11_4'], ['polo15_1', 'polo15_2', 'polo15_3', 'polo15_4'], ['polo18_1', 'polo18_2', 'polo18_3', 'polo18_4'], 'eva14');
    updateMultiplyGroup(19, ['polo17_1', 'polo17_2', 'polo17_3', 'polo17_4'], ['polo18_1', 'polo18_2', 'polo18_3', 'polo18_4'], ['polo19_1', 'polo19_2', 'polo19_3', 'polo19_4'], 'eva15');

    // Count points for polo
    for (let i = 5; i <= 16; i++) {
        for (let j = 1; j <= 4; j++) {
            if (document.getElementById(`polo${i}_${j}`).textContent === '.') totalPoints++;
        }
    }

    // Add the dotNumber to totalPoints
    // totalPoints += dotNumber;

    // Update the frank element with the total points
    document.getElementById("frank").textContent = `Total Points: ${totalPoints}`;
    let medius = ` ${totalPoints}`;
    let manys  = 125 - medius ;
    document.getElementById("fred").textContent = manys;

        // Example fraction: 7/2
        const numerator = manys;
        const denominator = 15;

        // Calculate the score without tenths
        const scoreWithoutTenths = Math.floor(numerator / denominator);

        // Calculate the remainder
        const remainder = numerator % denominator;

        // Print the results
        document.getElementById("score").textContent = `Score without tenths , القسمة بدون أعشار: ${scoreWithoutTenths}`;
        document.getElementById("remainder").textContent = `Remainder ,باقي القسمة: ${remainder}`;



// Function to set group color
function setGroupColor(groupNumber, color) {
    const element = document.getElementById(`group${groupNumber}`);
    if (element) {
        element.style.backgroundColor = color;
        element.style.padding = "5px";
    }
}

// Reset all groups to default color (optional, remove if not needed)
for (let i = 1; i <= 15; i++) {
    setGroupColor(i, "");
}

// Set yellow group based on scoreWithoutTenths
let yellowGroup = scoreWithoutTenths === 0 ? 15 : scoreWithoutTenths;
setGroupColor(yellowGroup, "yellow");

// Set red group based on remainder
if (remainder !== 0) {
    setGroupColor(remainder, "red");
}




}

function updateEvaluation(results, evaluationId) {
    const matchedOption = expectedParityOptions.find(option => 
        option.expected.every((val, index) => val === results[index])
    );
    document.getElementById(evaluationId).textContent = matchedOption ? matchedOption.name : "default content";
}

document.addEventListener('DOMContentLoaded', updateAllGroups);
    </script>
</body>
</html>
